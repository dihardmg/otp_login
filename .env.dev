# Environment Configuration
SPRING_PROFILES_ACTIVE=dev

# Application Configuration
APP_NAME=otp-login-api
APP_PORT=8081
APP_INTERNAL_PORT=8081
APP_CONTEXT_PATH=/

# Docker Container Configuration
APP_CONTAINER_NAME=otp-app-dev
APP_RESTART=unless-stopped
APP_LOGS_PATH=./logs
APP_HEALTH_INTERVAL=30s
APP_HEALTH_TIMEOUT=10s
APP_HEALTH_RETRIES=3
APP_HEALTH_START_PERIOD=60s

# PostgreSQL Docker Configuration
POSTGRES_CONTAINER_NAME=otp-postgres-dev
POSTGRES_RESTART=unless-stopped
POSTGRES_HEALTH_INTERVAL=10s
POSTGRES_HEALTH_TIMEOUT=5s
POSTGRES_HEALTH_RETRIES=5
POSTGRES_VOLUME_NAME=postgres_data_dev

# Redis Docker Configuration
REDIS_CONTAINER_NAME=otp-redis-dev
REDIS_RESTART=unless-stopped
REDIS_HEALTH_INTERVAL=10s
REDIS_HEALTH_TIMEOUT=3s
REDIS_HEALTH_RETRIES=3
REDIS_VOLUME_NAME=redis_data_dev
REDIS_TIMEOUT_VALUE=300

# Network Configuration
NETWORK_NAME=otp-network

# Docker Images
POSTGRES_IMAGE=postgres:15-alpine
REDIS_IMAGE=redis:7-alpine

# Docker Container Names
POSTGRES_CONTAINER_NAME=otp-postgres-dev
REDIS_CONTAINER_NAME=otp-redis-dev
APP_CONTAINER_NAME=otp-app-dev

# Docker Volume Names (fixed names for consistency)
POSTGRES_VOLUME_NAME=postgres_data
REDIS_VOLUME_NAME=redis_data

# Docker Restart Policies
POSTGRES_RESTART=unless-stopped
REDIS_RESTART=unless-stopped
APP_RESTART=unless-stopped

# Docker Resource Limits
POSTGRES_MEMORY_LIMIT=512M
POSTGRES_CPU_LIMIT=0.5
POSTGRES_MEMORY_RESERVATION=256M
POSTGRES_CPU_RESERVATION=0.25

REDIS_MEMORY_LIMIT=256M
REDIS_CPU_LIMIT=0.25
REDIS_MEMORY_RESERVATION=128M
REDIS_CPU_RESERVATION=0.1

APP_MEMORY_LIMIT=1G
APP_CPU_LIMIT=1.0
APP_MEMORY_RESERVATION=512M
APP_CPU_RESERVATION=0.5

# Docker Health Checks
POSTGRES_HEALTH_INTERVAL=10s
POSTGRES_HEALTH_TIMEOUT=5s
POSTGRES_HEALTH_RETRIES=5

REDIS_HEALTH_INTERVAL=10s
REDIS_HEALTH_TIMEOUT=3s
REDIS_HEALTH_RETRIES=3

APP_HEALTH_INTERVAL=30s
APP_HEALTH_TIMEOUT=10s
APP_HEALTH_RETRIES=3
APP_HEALTH_START_PERIOD=60s

# Docker Paths
APP_LOGS_PATH=./logs
REDIS_CONFIG_PATH=

# Database Configuration (PostgreSQL)
POSTGRES_DB=otp_db_dev
POSTGRES_USER=user
POSTGRES_PASSWORD=password
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
DATABASE_URL=jdbc:postgresql://localhost:5432/otp_db_dev?useSSL=false&rewriteBatchedStatements=true

# Docker-specific settings for development
DATABASE_USE_SSL=false
DATABASE_SSL_MODE=
REDIS_PASSWORD_FLAG=--requirepass
# REDIS_PING_COMMAND=--no-auth-warning -a ${REDIS_PASSWORD}
REDIS_MEMORY_SETTINGS=--maxmemory 256mb --maxmemory-policy allkeys-lru

# Database Connection Pool
DB_POOL_SIZE=20
DB_POOL_MIN_IDLE=5
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_MAX_LIFETIME=600000
DB_POOL_CONNECTION_TIMEOUT=2000

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=dev_redis_password_2024
REDIS_TIMEOUT=2000ms
REDIS_POOL_MAX_ACTIVE=8
REDIS_POOL_MAX_IDLE=8
REDIS_POOL_MIN_IDLE=0

# JWT Configuration
JWT_SECRET=mySecretKey123456789012345678901234567890
JWT_ACCESS_TOKEN_EXPIRATION_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRATION_DAYS=30

# OTP Configuration
OTP_EXPIRATION_MINUTES=5
OTP_LENGTH=6
OTP_MAX_ATTEMPTS=3

# Email Configuration (SendGrid)
MAIL_HOST=smtp.sendgrid.net
MAIL_PORT=587
MAIL_USERNAME=apikey
MAIL_PASSWORD=your_api_key_sendgrid
MAIL_FROM=dihardmg@gmail.com
MAIL_SMTP_AUTH=true
MAIL_SMTP_STARTTLS=true
MAIL_SMTP_TRUST=smtp.sendgrid.net
MAIL_TIMEOUT=10000
MAIL_DEBUG=false

# Logging Configuration
LOG_LEVEL_APP=DEBUG
LOG_LEVEL_SECURITY=WARN
LOG_LEVEL_WEB=WARN
LOG_PATTERN_CONSOLE=%d{HH:mm:ss} - %msg%n
LOG_PATTERN_FILE=%d{HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Development Configuration
DEVTOOLS_RESTART_ENABLED=true
DEVTOOLS_LIVERELOAD_ENABLED=true

# Rate Limiting Configuration
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST_CAPACITY=10